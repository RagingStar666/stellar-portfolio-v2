---
import PageLayout from "@layouts/PageLayout.astro"
import { SITE } from "@consts"
import TwinklingStars from "@components/TwinklingStars.astro"
import MeteorShower from "@components/MeteorShower.astro"
import { getCollection } from "astro:content"

// Get work entries
const workEntries = await getCollection("work");
const professionalExperience = workEntries.filter(entry => 
  entry.id === "genesis-studio.md" || 
  entry.id === "genesis-team-leader.md" || 
  entry.id === "wuxiaworld.md"
).sort((a, b) => {
  // Parse dates for sorting (format: "Month Year")
  const getDate = (entry: typeof workEntries[0]): number => {
    const dateStartStr = typeof entry.data.dateStart === 'string' 
      ? entry.data.dateStart 
      : entry.data.dateStart.toString();
    const parts = dateStartStr.split(" ");
    const month = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"].indexOf(parts[0]);
    const year = parseInt(parts[1]);
    return new Date(year, month).getTime();
  };
  
  return getDate(b) - getDate(a); // Descending order
}).slice(0, 2); // Show only latest 2

// Get projects 
const projects = [
  {
    title: "Tower of Babel",
    description: "A web development project focused on creating a multilingual communication platform.",
    image: "/placeholder-image.svg",
    tags: ["React", "NodeJS", "MongoDB", "WebSockets"],
    link: "/projects/tower-of-babel"
  },
  {
    title: "Legal Document Analyzer",
    description: "An application for parsing and analyzing legal documents using natural language processing.",
    image: "/placeholder-image.svg",
    tags: ["Python", "NLP", "Legal Tech"],
    link: "/projects/legal-document-analyzer"
  }
];

// Get blog posts
const blogPosts = [
  {
    title: "The Future of Legal Technology",
    excerpt: "Examining how AI and machine learning are transforming the legal profession...",
    date: "Mar 20, 2025",
    image: "/placeholder-image.svg",
    link: "/blog/future-of-legal-technology"
  },
  {
    title: "Understanding IP Rights in the Digital Age",
    excerpt: "A comprehensive look at how intellectual property rights apply to digital content...",
    date: "Feb 15, 2025",
    image: "/placeholder-image.svg",
    link: "/blog/ip-rights-digital-age"
  }
];

// Get education info
const education = {
  institution: "University of Calcutta",
  degree: "B.A. LL.B. (Hons.)",
  period: "2024-2029 (Expected)",
  image: "/placeholder-image.svg",
  link: "/education"
};

// Contact info
const contactInfo = {
  email: "prodiptaroy@gmail.com",
  linkedin: "www.linkedin.com/in/prodipta-roy",
  phone: "+91-9073773098",
  website: "www.prodiptaroy.space"
};
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>
  <!-- Light Mode: Particles -->
  <div class='absolute inset-0 block dark:hidden'>
    <div id='particles1' class='fixed inset-0'></div>
    <div id='particles2' class='fixed inset-0'></div>
    <div id='particles3' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Stars -->
  <div class='absolute inset-0 bg-black hidden dark:block'>
    <div id='stars1' class='fixed inset-0'></div>
    <div id='stars2' class='fixed inset-0'></div>
    <div id='stars3' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Twinkling Stars / Metors -->
  <div id="galaxy" class="fixed inset-0">
    <div class="hidden dark:block">
      <TwinklingStars/>
      <MeteorShower/>
    </div>
  </div>

  <script is:inline src="/js/bg.js"></script>
  
  <!-- Hero Section -->
  <section class="relative min-h-[80vh] w-full flex items-center">
    <div class="animate absolute inset-0 top-1/4 overflow-hidden">
      <div id="crescent" class='absolute top-0 left-1/2 -translate-x-1/2 w-[250vw] min-h-[100vh] aspect-square rounded-full p-[1px] bg-gradient-to-b from-black/25 dark:from-white/75 from-0% to-transparent to-5%'>
        <div id="planet" class='w-full h-full bg-white dark:bg-black rounded-full p-[1px] overflow-hidden flex justify-center'>
          <div id="blur" class='w-full h-20 rounded-full bg-neutral-900/25 dark:bg-white/25 blur-3xl'/>
        </div>
      </div>
    </div>
    
    <div class="container mx-auto px-6 z-10 relative">
      <div class="max-w-4xl mx-auto bg-white/90 dark:bg-black/90 backdrop-blur-sm rounded-lg p-8 shadow-lg">
        <div class="space-y-6 text-center mb-8">
          <h1 class="text-5xl font-bold text-black dark:text-white">Prodipta Roy</h1>
          <p class="text-xl text-black/80 dark:text-white/80">Law Student & Operations Professional</p>
          <p class="text-lg max-w-2xl mx-auto text-black/70 dark:text-white/70">
            Focused on intellectual property rights, alternative dispute resolution, and business law. 
            Passionate about the intersection of law, technology, and operations.
          </p>
          <div class="flex flex-wrap justify-center gap-4 pt-4">
            <a href="/work" class="px-6 py-2 bg-black dark:bg-white text-white dark:text-black rounded-full hover:opacity-80 transition-opacity">
              View Experience
            </a>
            <a href="/projects" class="px-6 py-2 border border-black dark:border-white text-black dark:text-white rounded-full hover:bg-black/5 hover:dark:bg-white/5 transition-all">
              See Projects
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- About Section -->
  <section class="py-20 bg-white/5 dark:bg-black/5 backdrop-blur-sm">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold mb-8 text-black dark:text-white border-b border-black/10 dark:border-white/10 pb-3">About Me</h2>
        <div class="space-y-6 text-black/80 dark:text-white/80">
          <p>
            I am a first-year law student at the University of Calcutta with developing interests in IP Rights, ADR, Business Law, and interdisciplinary systems.
          </p>
          <p>
            I am passionate about learning, analysing, and designing systems, especially in the fields of law, tech, finance, and business. Ever since childhood, I've been involved in the creative fields, actively participating in debates and creative writing, as well as the scientific fields, especially technology.
          </p>
          <p>
            Currently, I serve as an Operations Manager at Genesis Studio, overseeing multi-departmental operations for a 40+ member team in a digital content studio.
          </p>
          <div class="pt-4">
            <a href="/education" class="text-black dark:text-white font-medium hover:underline inline-flex items-center">
              Learn more about my education and skills
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Experience Section Preview -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-3xl font-bold text-black dark:text-white">Recent Experience</h2>
          <a href="/work" class="text-black dark:text-white hover:underline inline-flex items-center">
            View all
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
        
        <div class="space-y-8">
          {professionalExperience.map(entry => {
            const dateStartStr = typeof entry.data.dateStart === 'string' 
              ? entry.data.dateStart 
              : entry.data.dateStart.toString();
            
            const dateEndStr = entry.data.dateEnd === "Now" 
              ? "Present" 
              : (typeof entry.data.dateEnd === 'string' 
                ? entry.data.dateEnd 
                : entry.data.dateEnd.toString());
            
            return (
              <a href={`/work/${entry.slug}`} class="block bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 hover:shadow-md transition-all duration-300 overflow-hidden">
                <div class="p-6">
                  <div class="flex flex-col md:flex-row gap-6">
                    <div class="md:w-1/4">
                      <div class="aspect-video bg-black/5 dark:bg-white/5 rounded-lg overflow-hidden">
                        <img src="/placeholder-image.svg" alt={entry.data.company} class="w-full h-full object-cover" />
                      </div>
                    </div>
                    <div class="md:w-3/4">
                      <span class="inline-block px-2 py-1 bg-black/10 dark:bg-white/10 rounded-full text-xs text-black/70 dark:text-white/70 mb-2">
                        Professional Experience
                      </span>
                      <h3 class="text-xl font-semibold text-black dark:text-white">{entry.data.role}</h3>
                      <p class="text-black/70 dark:text-white/70 mb-1">{entry.data.company}</p>
                      <p class="text-black/60 dark:text-white/60 mb-3">{dateStartStr} - {dateEndStr}</p>
                      <p class="text-black/80 dark:text-white/80 line-clamp-3">{entry.body}</p>
                      <div class="mt-3">
                        <span class="text-sm font-medium text-black dark:text-white hover:underline">Read more →</span>
                      </div>
                    </div>
                  </div>
                </div>
              </a>
            )
          })}
        </div>
      </div>
    </div>
  </section>
  
  <!-- Projects Preview -->
  <section class="py-20 bg-white/5 dark:bg-black/5 backdrop-blur-sm">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-3xl font-bold text-black dark:text-white">Featured Projects</h2>
          <a href="/projects" class="text-black dark:text-white hover:underline inline-flex items-center">
            View all
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          {projects.map(project => (
            <a href={project.link} class="block bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 hover:shadow-md transition-all duration-300 overflow-hidden h-full">
              <div class="aspect-video overflow-hidden">
                <img src={project.image} alt={project.title} class="w-full h-full object-cover hover:scale-105 transition-transform duration-300" />
              </div>
              <div class="p-6">
                <h3 class="text-xl font-semibold text-black dark:text-white mb-2">{project.title}</h3>
                <p class="text-black/80 dark:text-white/80 mb-4">{project.description}</p>
                <div class="flex flex-wrap gap-2 mb-3">
                  {project.tags.map(tag => (
                    <span class="px-2 py-1 bg-black/5 dark:bg-white/10 rounded-full text-xs text-black/70 dark:text-white/70">
                      {tag}
                    </span>
                  ))}
                </div>
                <div class="mt-2">
                  <span class="text-sm font-medium text-black dark:text-white hover:underline">View project →</span>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>
  
  <!-- Blog/Writing Preview -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-3xl font-bold text-black dark:text-white">Recent Writing</h2>
          <a href="/blog" class="text-black dark:text-white hover:underline inline-flex items-center">
            View all
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
        
        <div class="space-y-8">
          {blogPosts.map(post => (
            <a href={post.link} class="block bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 hover:shadow-md transition-all duration-300 overflow-hidden">
              <div class="p-6">
                <div class="flex flex-col md:flex-row gap-6">
                  <div class="md:w-1/4">
                    <div class="aspect-video bg-black/5 dark:bg-white/5 rounded-lg overflow-hidden">
                      <img src={post.image} alt={post.title} class="w-full h-full object-cover" />
                    </div>
                  </div>
                  <div class="md:w-3/4">
                    <p class="text-sm text-black/60 dark:text-white/60 mb-2">{post.date}</p>
                    <h3 class="text-xl font-semibold text-black dark:text-white mb-2">{post.title}</h3>
                    <p class="text-black/80 dark:text-white/80 mb-3">{post.excerpt}</p>
                    <div class="mt-2">
                      <span class="text-sm font-medium text-black dark:text-white hover:underline">Read article →</span>
                    </div>
                  </div>
                </div>
              </div>
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>
  
  <!-- Education Preview -->
  <section class="py-20 bg-white/5 dark:bg-black/5 backdrop-blur-sm">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-3xl font-bold text-black dark:text-white">Education</h2>
          <a href="/education" class="text-black dark:text-white hover:underline inline-flex items-center">
            View details
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
        
        <div class="bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 overflow-hidden">
          <div class="p-6">
            <div class="flex flex-col md:flex-row gap-6">
              <div class="md:w-1/4">
                <div class="aspect-video bg-black/5 dark:bg-white/5 rounded-lg overflow-hidden">
                  <img src={education.image} alt={education.institution} class="w-full h-full object-cover" />
                </div>
              </div>
              <div class="md:w-3/4">
                <h3 class="text-xl font-semibold text-black dark:text-white">{education.degree}</h3>
                <p class="text-black/70 dark:text-white/70 mb-1">{education.institution}</p>
                <p class="text-black/60 dark:text-white/60 mb-4">{education.period}</p>
                <div>
                  <a href={education.link} class="text-sm font-medium text-black dark:text-white hover:underline">
                    View education & certifications →
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Contact Section -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold mb-8 text-black dark:text-white">Contact Me</h2>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <a href={`mailto:${contactInfo.email}`} class="bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 p-6 hover:shadow-md transition-all duration-300">
            <div class="flex items-center gap-4">
              <div class="bg-black/5 dark:bg-white/10 p-3 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black/70 dark:text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <div>
                <h3 class="text-lg font-medium text-black dark:text-white mb-1">Email</h3>
                <p class="text-black/70 dark:text-white/70">{contactInfo.email}</p>
              </div>
            </div>
          </a>
          
          <a href={`https://${contactInfo.linkedin}`} target="_blank" rel="noopener noreferrer" class="bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 p-6 hover:shadow-md transition-all duration-300">
            <div class="flex items-center gap-4">
              <div class="bg-black/5 dark:bg-white/10 p-3 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black/70 dark:text-white/70" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
              </div>
              <div>
                <h3 class="text-lg font-medium text-black dark:text-white mb-1">LinkedIn</h3>
                <p class="text-black/70 dark:text-white/70">{contactInfo.linkedin}</p>
              </div>
            </div>
          </a>
          
          <a href={`tel:${contactInfo.phone.replace(/[^0-9+]/g, '')}`} class="bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 p-6 hover:shadow-md transition-all duration-300">
            <div class="flex items-center gap-4">
              <div class="bg-black/5 dark:bg-white/10 p-3 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black/70 dark:text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
              </div>
              <div>
                <h3 class="text-lg font-medium text-black dark:text-white mb-1">Phone</h3>
                <p class="text-black/70 dark:text-white/70">{contactInfo.phone}</p>
              </div>
            </div>
          </a>
          
          <a href={`https://${contactInfo.website}`} target="_blank" rel="noopener noreferrer" class="bg-white dark:bg-black/20 rounded-lg shadow-sm border border-black/10 dark:border-white/10 p-6 hover:shadow-md transition-all duration-300">
            <div class="flex items-center gap-4">
              <div class="bg-black/5 dark:bg-white/10 p-3 rounded-full">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black/70 dark:text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                </svg>
              </div>
              <div>
                <h3 class="text-lg font-medium text-black dark:text-white mb-1">Website</h3>
                <p class="text-black/70 dark:text-white/70">{contactInfo.website}</p>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>
</PageLayout>
